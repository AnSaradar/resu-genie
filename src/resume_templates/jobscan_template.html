<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{name}} - Resume</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
            line-height: 1.4;
        }

        body {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            color: #333;
        }

        /* Header */
        .header {
            margin-bottom: 20px;
        }

        .name-position-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .name {
            font-size: 24px;
            font-weight: bold;
        }

        .current-position {
            font-size: 14px;
            color: #666;
            font-style: italic;
        }

        .summary {
            font-size: 13px;
            line-height: 1.5;
            margin-bottom: 20px;
            color: #444;
        }

        .divider {
            width: 50%;
            height: 1px;
            background-color: #ccc;
            margin: 20px 0;
        }

        .personal-info {
            display: flex;
            flex-direction: column;
            font-size: 12px;
            color: #666;
            margin-bottom: 25px;
            gap: 8px;
        }

        .info-row {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
        }

        .info-item {
            white-space: nowrap;
        }

        .info-item:not(:last-child)::after {
            content: " | ";
            color: #999;
            margin: 0 8px;
        }

        /* Section Styles */
        .section {
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }

        /* Experience Items */
        .experience-item {
            margin-bottom: 20px;
        }

        .job-header {
            margin-bottom: 8px;
        }

        .job-position {
            font-weight: bold;
            font-size: 14px;
            font-style: italic;
        }

        .company-info {
            font-style: italic;
            color: #666;
            font-size: 13px;
        }

        .date-range {
            float: right;
            color: #666;
            font-size: 13px;
        }

        .job-details {
            margin-left: 20px;
            font-size: 13px;
        }

        .job-details li {
            margin-bottom: 5px;
            line-height: 1.4;
        }

        /* Projects Section */
        .project-item {
            margin-bottom: 15px;
        }

        .project-title {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .project-description {
            font-size: 13px;
            margin-left: 20px;
            line-height: 1.4;
        }

        /* Skills Section */
        .skills-list {
            font-size: 13px;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        /* Education Section */
        .education-item {
            margin-bottom: 15px;
        }

        .education-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .university {
            font-weight: bold;
            font-size: 14px;
        }

        .education-date {
            color: #666;
            font-size: 13px;
        }

        .degree {
            font-size: 13px;
            margin-bottom: 8px;
        }

        .education-description {
            font-size: 13px;
            line-height: 1.4;
            color: #555;
            margin-left: 20px;
        }

        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="name-position-row">
            <h1 class="name">{{name}}</h1>
            <div class="current-position">{{current_position}}</div>
        </div>
        
        <!-- Summary directly under name -->
        <div class="summary">{{summary}}</div>
        
        <!-- Half divider -->
        <div class="divider"></div>
        
        <!-- Personal Information -->
        <div class="personal-info">
            <!-- First row: Essential info -->
            <div class="info-row">
                {% if email %}
                <div class="info-item">{{email}}</div>
                {% endif %}
                {% if phone %}
                <div class="info-item">{{phone}}</div>
                {% endif %}
                {% if city or country %}
                <div class="info-item">{{city}}{% if city and country %}, {% endif %}{{country}}</div>
                {% endif %}
                {% if years_of_experience %}
                <div class="info-item">{{years_of_experience}} years experience</div>
                {% endif %}
            </div>
            
            <!-- Second row: URLs and links (if they exist) -->
            {% if website or linkedin %}
            <div class="info-row">
                {% if website %}
                <div class="info-item">{{website}}</div>
                {% endif %}
                {% if linkedin %}
                <div class="info-item">{{linkedin}}</div>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </header>

    <!-- Work Experience -->
    <section class="section">
        <h2 class="section-title">Work Experience</h2>
        {% for job in experience %}
        <div class="experience-item">
            <div class="job-header">
                <span class="job-position">{{job.title}}</span>
                <span class="date-range">{{job.date_range}}</span>
            </div>
            <div class="company-info">{{job.company}} | {{job.location}}</div>
            {% if job.details %}
            <ul class="job-details">
                {% for detail in job.details %}
                <li>{{detail}}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        {% endfor %}
    </section>

    <!-- Projects -->
    {% if personal_work %}
    <section class="section">
        <h2 class="section-title">Projects</h2>
        {% for project in personal_work %}
        <div class="project-item">
            <div class="project-title">{{project.title}}</div>
            <div class="project-description">{{project.description}}</div>
            {% if project.repository_url %}
            <div class="project-description">Repo: {{project.repository_url}}</div>
            {% endif %}
            {% if project.technologies %}
            <div class="project-description">Technologies: {{project.technologies|join(", ")}}</div>
            {% endif %}
        </div>
        {% endfor %}
    </section>
    {% endif %}

    <!-- Technical Skills -->
    <section class="section">
        <h2 class="section-title">Technical Skills</h2>
        <div class="skills-list">{{technical_skills|join(", ")}}</div>
    </section>

    <!-- Soft Skills -->
    {% if soft_skills %}
    <section class="section">
        <h2 class="section-title">Soft Skills</h2>
        <div class="skills-list">{{soft_skills|join(", ")}}</div>
    </section>
    {% endif %}

    <!-- Education -->
    <section class="section">
        <h2 class="section-title">Education</h2>
        {% for edu in education %}
        <div class="education-item">
            <div class="education-header">
                <div class="university">{{edu.institution}}</div>
                <div class="education-date">{{edu.date_range}}</div>
            </div>
            <div class="degree">{{edu.degree}} {{edu.field}}</div>
            {% if edu.description %}
            <div class="education-description">{{edu.description}}</div>
            {% endif %}
        </div>
        {% endfor %}
    </section>
</body>
</html>
